<div class="custom-footer layout-default adb-layout-default">
  <footer class="footer">
    <div class="footer__curtain">
      <div class="container">
        <div class="footer__navigation">
          <div class="row">
            <div class="col-md-12">
              <img
                      src="https://d33na3ni6eqf5j.cloudfront.net/channel_custom_style_resources/img6986603849352112557?feb6d535a341a5507b1db4fbe5aa30c3"
                      alt="Vodafone Business"
                      class="footer__logo"
              />
            </div>
          </div>

          <ul class="footer__links">
            <li class="footer__link">
              <a target="_blank" href="{{TERMS_URL}}">
                {{home.terms_and_conditions}}
              </a>
            </li>
<!--            <li class="footer__link">-->
<!--              <a-->
<!--                target="_blank"-->
<!--                href="https://www.vodafone.es/c/statics/politica_uso_VodafoneBusinessMarketplace.pdf"-->
<!--              >-->
<!--                {{home.general_policy}}-->
<!--              </a>-->
<!--            </li>-->
            <li class="footer__link">
              <a target="_blank" href="{{PRIVACY_POLICY_URL}}">
                {{home.privacy_policy}}
              </a>
            </li>
            <li class="footer__link footer__link--last">
              <a target="_blank" href="{{SUPPORT_URL}}">
                {{home.contact_support}}
              </a>
            </li>
          </ul>

          <div class="footer__aside">
            <span class="footer__copyright float--left">
              {{COPYRIGHT_YEAR}}  2020 Vodafone Limited. Registered office: Vodafone House, The Connection, Newbury, Berkshire RG14 2FN. Registered in England No 1471587.
            </span>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>


<!--Scripts for Header behaviour -->
{{JS_DROPDOWN_CLICK}}

<script>
    (function manageDropdown() {
        $('.header-primary .ad-component_dropdown').hover(function() {
            $(this).find('.ad-component_dropdown--trigger').toggleClass('ad-component_dropdown--is-active');
        }, function(e) {
            $('.header-primary .ad-component_dropdown--is-active').removeClass('ad-component_dropdown--is-active');
        });
    })();

    //removed selected language from the dropdown
    (function(){
        $('.ad-component_list.ad-component_list--language-list.language-links .ad-component_list-item.selected').remove();
    })();
</script>


<script>

    /*if (window.location.href.indexOf("PURCHASE_ORDER") > -1) {
        var orderId = document.getElementsByClassName("info-item");
    }*/

    //var test = document.querySelector(".js-app-detail-container > div > .adb-stat a").innerHTML;

    //console.log(test);

    var pathArray = window.location.pathname.split('/');

    var visitorLoginComplete = false;

    <!-- utag_data attributes population -->
    /*window.utag_data = {
    page_channel: "web",
    page_country: "uk",
    page_domain: window.location.host,
    page_error: "",
    page_locale: "en gb",
    page_name: document.title,
    page_section: "Vodafone Business Marketplace",
    page_subdomain: "",
    page_title: document.title,
    page_type: "",
    page_url: window.location.href,
    page_platform: "Vodafone Business Marketplace",
    event_name:"",
    event_name: ["checkout_start"],
    event_name: ["checkout_step1"],
    event_name: ["checkout_step2"],
    event_name: ["checkout_step3"],
    event_name: ["checkout_complete"],
    product_id: pathArray[2],
    product_package_id: "",
    product_sku: "",
    event_name: ["cart_open"],
    event_name: ["cart_add"],
    event_name: ["cart_view"],
    event_name: ["cart_remove"],
    event_name: ["cart_save"],
    product_name: pathArray[3],
    product_target_segment: "",
    product_brand: "",
    journey_name: "Vodafone Business Marketplace purchase",
    transaction_shipping_type: "",
    transaction_payment_type: "",
    product_stock_status:"",
    product_category: "",
    transaction_id: orderId && orderId.length && orderId[0] && orderId[0].innerText || "",
    cart_id: "",
    transaction_total: "",
    product_quantity: "",
    visitor_customer_type: "",
    visitor_permission_name: "",
    visitor_permission_status: "",
    visitor_permissions: "",
    form_error: "",
    form_name: "",
    form_type: "",
    tool_error: "",
    visitor_customer_segment: "",
    visitor_customer_status: "",
    visitor_id_asset_active: "",
    visitor_id_asset_primary: "",
    visitor_login_status: "",
    visitor_login_type: "",
    visitor_type: "",
    event_name: "",
    tool_results: "",
    form_start: ["form_start"],
    event_name:["form_end"],
    form_name:"",
    form_step_name: "",
    form_step_number: "",
    form_type: "",
    form_error: "",
    visitor_id_account_primary: "",
    visitor_customer_account_type: "",
    product_price_recurrence_amount_net: "",
    product_price_recurrence_amount: "",
    product_price_recurrence_number: "",
    product_price: "",
    product_price_net: "",
    }*/

    window.utag_data = {
        page_channel: "web",
        page_country: "uk",
        page_domain: window.location.host,
        page_locale: "en gb",
        page_section: "Vodafone Business Marketplace",
        page_subdomain: "",
        page_platform: "Vodafone Business Marketplace",
        page_url: window.location.href,
    }

    buildUtagDataObject();

    <!-- End utag_data attributes population -->

    <!-- Update utag_data object and send data when url changes -->


    (function(){
        var rs = history.pushState;
        history.pushState = function(){
            rs.apply(history, arguments);

            pathArray = window.location.pathname.split('/');

            window.utag_data.page_url = window.location.href;

            buildUtagDataObject();

            callView();
        };
    }());


    /*window.addEventListener('popstate', function() {

      pathArray = window.location.pathname.split('/');

      window.utag_data.page_url = window.location.href;

      buildUtagDataObject();

      callView();
    });*/

    var visitorLoginComplete = false;

    if(sessionStorage.getItem('visitorLoginCompleted') === null) {
        sessionStorage.setItem('visitorLoginCompleted', 'false');
    } else if(document.referrer.split('/')[3]) {
        if( document.referrer.split('/')[3].split('?')[0] === 'logout') {
            sessionStorage.setItem('visitorLoginCompleted', 'false');
        }
    }


    function buildUtagDataObject() {

        if(pathArray[1] === 'home') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>featured applications';
            window.utag_data.page_title = 'featured applications';
            window.utag_data.page_type = 'product list';
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';
            if(typeof window.utag_data.event_name !== "undefined") {
                delete window.utag_data.event_name;
            }
        } else if(pathArray[1] === 'listing') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>all applications';
            window.utag_data.page_title = 'all applications';
            window.utag_data.page_type = 'product list';
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';
            if(typeof window.utag_data.event_name !== "undefined") {
                delete window.utag_data.event_name;
            }
        } else if(pathArray[1] === 'apps') {

            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>' + pathArray[3];
            window.utag_data.page_title = pathArray[3];
            window.utag_data.page_type = 'product detail';
            window.utag_data.event_name = ["product_view"];
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';
            //window.utag_data.product_category = 'software';
            //window.utag_data.product_brand = '';
            //window.utag_data.product_brand = window.I18N["csp.provider.name"];


            //console.log(window.I18N["csp.provider.name"])


        } else if(pathArray[1] === 'invitations') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>register';
            window.utag_data.page_title = 'Vodafone Business Marketplace registration';
            window.utag_data.page_type = 'register';
            window.utag_data.event_name = ["visitor_register_start"];
        } else if(pathArray[1] === 'internal.error') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>error';
            window.utag_data.page_title = 'Vodafone Business Marketplace error';
            window.utag_data.page_type = 'error page';
        } else if(pathArray[1] === 'myapps') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>my applications';
            window.utag_data.page_title = 'my applications';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'login') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>log in';
            window.utag_data.page_title = 'Vodafone Business Marketplace log in';
            window.utag_data.page_type = 'login';
            window.utag_data.event_name = ["visitor_login_start"];
        } else if(pathArray[1] === 'account' && pathArray[2] === 'home') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>dashbaord';
            window.utag_data.page_title = 'Vodafone Business Marketplace dashboard';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'apps') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>applications>manage apps';
            window.utag_data.page_title = 'manage apps';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'domains') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>applications>domains';
            window.utag_data.page_title = 'manage domains';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'quotes') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>applications>saved orders';
            window.utag_data.page_title = 'saved orders';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'users') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>users>manage users';
            window.utag_data.page_title = 'manage users';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'roles') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>users>manage roles';
            window.utag_data.page_title = 'manage roles';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'assign') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>assign apps';
            window.utag_data.page_title = 'assign apps';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'companySettings' && pathArray[3] === 'sso') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>company settings>single sign-on';
            window.utag_data.page_title = 'single sign-on';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'companySettings') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>company settings>account';
            window.utag_data.page_title = 'company settings';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'account' && pathArray[2] === 'groups') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>manage>users>manage groups';
            window.utag_data.page_title = 'manage groups';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'purchase') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>checkout>step 1>create order';
            window.utag_data.page_title = 'checkout: create order';
            window.utag_data.page_type = 'checkout';
            window.utag_data.event_name = ["checkout_start", "checkout_step1"];
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';

            window.utag_data.product_category = ['software'];
            window.utag_data.product_id = [];
            window.utag_data.product_id.push('VBM-' + pathArray[2]);
            window.utag_data.product_name = [];
            window.utag_data.product_name.push(document.querySelector('.app-enabled').dataset.appName);

            //window.utag_data.product_brand = window.I18N["csp.provider.name"];

        } else if(pathArray[1] === 'payment') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>checkout>step 2>confirm your order';
            window.utag_data.page_title = 'checkout: confirm your order';
            window.utag_data.page_type = 'checkout';
            window.utag_data.event_name = ["checkout_step2"];
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';

            window.utag_data.product_category = ['software'];
            window.utag_data.product_name = [];
            window.utag_data.product_name.push(document.querySelector('.edition-name').innerHTML);
            window.utag_data.product_id = [];
            window.utag_data.product_id.push('VBM-' + document.querySelector('.agreeLinks > span > label a').href.split('/')[4].split('?')[0]);

            window.utag_data.product_quantity = document.querySelectorAll('.invoice-table > table > tbody > tr > td')[3].innerHTML;
            window.utag_data.product_price_recurrence_amount = document.querySelector('.invoice-value').innerHTML.substring(1)
            window.utag_data.product_price = document.querySelectorAll('.invoice-table > table > tbody > tr > td')[2].innerHTML.replace(/\s/g, '').split('/')[0].substring(1);

        } else if(pathArray[1] === 'orderreceipt') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>checkout>step 3>order complete';
            window.utag_data.page_title = 'checkout: order complete';
            window.utag_data.page_type = 'confirmation';
            window.utag_data.event_name = ["checkout_step3", "checkout_complete"];
            window.utag_data.journey_name = 'Vodafone Business Marketplace purchase';

            window.utag_data.product_category = ['software'];
            window.utag_data.product_id = [];
            window.utag_data.product_id.push('VBM-' + document.getElementById('analyticsData').dataset.json.split(':')[2].split('}')[0]);
            window.utag_data.product_name = [];
            window.utag_data.product_name.push(document.querySelector('.edition-name').innerHTML);

            window.utag_data.transaction_id = document.querySelector('.info-item').innerHTML;
            window.utag_data.product_quantity = document.querySelectorAll('.invoice-table > table > tbody > tr > td')[3].innerHTML;
            window.utag_data.product_price_recurrence_amount = document.querySelector('.invoice-value').innerHTML.substring(1);
            window.utag_data.product_price = document.querySelectorAll('.invoice-table > table > tbody > tr > td')[2].innerHTML.replace(/\s/g, '').split('/')[0].substring(1);

        } else if(pathArray[1] === 'profile') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>profile>my profile';
            window.utag_data.page_title = 'my profile';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'companies') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>profile>my company>company profile';
            window.utag_data.page_title = 'company profile';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'directories') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>profile>my company>company directory';
            window.utag_data.page_title = 'company directory';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'settings') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>profile>my settings';
            window.utag_data.page_title = 'my settings';
            window.utag_data.page_type = 'my account';
        } else if(pathArray[1] === 'help') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>faqs';
            window.utag_data.page_title = 'frequently asked questions';
            window.utag_data.page_type = 'content';
        } else if(pathArray[1] === 'forgotPassword') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>forgot your password';
            window.utag_data.page_title = 'forgot your password';
            window.utag_data.page_type = 'my account';
            window.utag_data.form_start = ["form_start"];
            window.utag_data.form_name = 'Vodafone Business Marketplace - password reset';
            window.utag_data.form_step_name = 'Vodafone Business Marketplace - forgot your password';
            window.utag_data.form_step_number = '1';
            window.utag_data.form_type = 'password reset';
        } else if(pathArray[1] === 'resetPassword') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>reset your password';
            window.utag_data.page_title = 'reset your password';
            window.utag_data.page_type = 'my account';
            window.utag_data.form_name = 'Vodafone Business Marketplace - password reset';
            window.utag_data.form_step_name = 'Vodafone Business Marketplace - reset your password';
            window.utag_data.form_step_number = '2';
            window.utag_data.form_type = 'password reset';
        } else if(pathArray[1] === 'invitations' || pathArray[1] === 'accountSetup') {
            window.utag_data.page_name = 'uk>business>Vodafone Business Marketplace>register';
            window.utag_data.page_title = 'Vodafone Business Marketplace registration';
            window.utag_data.page_type = 'register';
        }


        if(pathArray[1] !== 'forgotPassword') {

            if(document.referrer.split('/')[4]) {

                if(document.referrer.split('/')[4].split('?')[0] === 'login' && sessionStorage.getItem('visitorLoginCompleted') == 'false') {
                    if(typeof window.utag_data.event_name !== 'undefined' && window.utag_data.event_name.length > 0) {
                        window.utag_data.event_name.push('visitor_login_complete');
                        //visitorLoginComplete = true;
                        sessionStorage.setItem('visitorLoginCompleted', 'true');
                    } else {
                        window.utag_data.event_name = ["visitor_login_complete"];
                        //visitorLoginComplete = true;
                        sessionStorage.setItem('visitorLoginCompleted', 'true');
                    }
                }
            } else if(document.referrer.split('/')[3]) {
                if(document.referrer.split('/')[3].split('?')[0] === 'login' && sessionStorage.getItem('visitorLoginCompleted') == 'false' && document.location.pathname.split('/')[1] !== 'twofactor') {
                    if(typeof window.utag_data.event_name !== 'undefined' && window.utag_data.event_name.length > 0) {
                        window.utag_data.event_name.push('visitor_login_complete');
                        //visitorLoginComplete = true;
                        sessionStorage.setItem('visitorLoginCompleted', 'true');
                    } else {
                        window.utag_data.event_name = ["visitor_login_complete"];
                        //visitorLoginComplete = true;
                        sessionStorage.setItem('visitorLoginCompleted', 'true');
                    }
                }
            }
        }


        if(window.bootstrapData.bootstrap.UserInfo === null) {
            window.utag_data.visitor_login_status = 'logged out';
            window.utag_data.visitor_login_authorisation_role = 'logged out';
        } else {
            window.utag_data.visitor_login_status = 'logged in';

            var roles = window.bootstrapData.bootstrap.UserInfo.roles;
            if(roles.indexOf('CHANNEL_ADMIN') > -1 || roles.indexOf('SYS_ADMIN') > -1 || roles.indexOf('BILLING_ADMIN') > -1) {
                window.utag_data.visitor_login_authorisation_role = 'Vodafone Business Marketplace - admin';
            } else {
                window.utag_data.visitor_login_authorisation_role = 'Vodafone Business Marketplace - user';
            }

        }

        //For logging in from apps page
        if(pathArray[1] === 'apps' && window.bootstrapData.bootstrap.UserInfo === null) {
            localStorage.setItem('loginOnAppsPage', 'true');
        }

        if(localStorage.getItem('loginOnAppsPage') !== null && window.bootstrapData.bootstrap.UserInfo !== null) {
            window.utag_data.event_name.push("visitor_login_complete");
            localStorage.removeItem('loginOnAppsPage');
        }

        if(pathArray[1] === 'login' && localStorage.getItem('loginOnAppsPage') !== null) {
            localStorage.removeItem('loginOnAppsPage');
        }
    }

    <!-- End update utag_data object and send data when url changes -->



</script>


<!-- Tealium async script -->
<script>
    utag_cfg_ovrd = window.utag_cfg_ovrd || {};
    utag_cfg_ovrd.noview = true;

    //window.utag_cfg_ovrd = {noview : true};

    (function ( a, b, c, d ) {
        a = '//tags.tiqcdn.com/utag/vodafone/uk-reinvent/prod/utag.js';
        b = document;
        c = 'script';
        d = b.createElement( c );
        d.src = a;
        d.type = 'text/java' + c;
        d.async = true;
        d.onload = callView;
        a = b.getElementsByTagName( c )[0];
        a.parentNode.insertBefore( d, a );
    })();


    function callView() {
        // JS Code: Tealium page view tracking
        try {
            utag.view(utag_data, function() { console.log('data sent') });
        } catch(e) { window.wa_catcherror = e; console.error(e); }

    }

</script>
<!-- End Tealium library integration -->


<script>
  /*! modernizr 3.4.0 (Custom Build) | MIT *
   * https://modernizr.com/download/?-appearance-bloburls-cssanimations-csstransforms-csstransitions-filereader-history-opacity-touchevents-video-setclasses !*/
  !(function(e, n, t) {
    function r(e, n) {
      return typeof e === n;
    }
    function o() {
      var e, n, t, o, i, s, a;
      for (var l in x)
        if (x.hasOwnProperty(l)) {
          if (
                  ((e = []),
                          (n = x[l]),
                  n.name &&
                  (e.push(n.name.toLowerCase()),
                  n.options && n.options.aliases && n.options.aliases.length))
          )
            for (t = 0; t < n.options.aliases.length; t++)
              e.push(n.options.aliases[t].toLowerCase());
          for (
                  o = r(n.fn, "function") ? n.fn() : n.fn, i = 0;
                  i < e.length;
                  i++
          )
            (s = e[i]),
                    (a = s.split(".")),
                    1 === a.length
                            ? (Modernizr[a[0]] = o)
                            : (!Modernizr[a[0]] ||
                            Modernizr[a[0]] instanceof Boolean ||
                            (Modernizr[a[0]] = new Boolean(Modernizr[a[0]])),
                                    (Modernizr[a[0]][a[1]] = o)),
                    C.push((o ? "" : "no-") + a.join("-"));
        }
    }
    function i(e) {
      var n = w.className,
              t = Modernizr._config.classPrefix || "";
      if ((b && (n = n.baseVal), Modernizr._config.enableJSClass)) {
        var r = new RegExp("(^|\\s)" + t + "no-js(\\s|$)");
        n = n.replace(r, "$1" + t + "js$2");
      }
      Modernizr._config.enableClasses &&
      ((n += " " + t + e.join(" " + t)),
              b ? (w.className.baseVal = n) : (w.className = n));
    }
    function s() {
      return "function" != typeof n.createElement
              ? n.createElement(arguments[0])
              : b
                      ? n.createElementNS.call(n, "http://www.w3.org/2000/svg", arguments[0])
                      : n.createElement.apply(n, arguments);
    }
    function a() {
      var e = n.body;
      return e || ((e = s(b ? "svg" : "body")), (e.fake = !0)), e;
    }
    function l(e, t, r, o) {
      var i,
              l,
              f,
              u,
              c = "modernizr",
              d = s("div"),
              p = a();
      if (parseInt(r, 10))
        for (; r--; )
          (f = s("div")), (f.id = o ? o[r] : c + (r + 1)), d.appendChild(f);
      return (
              (i = s("style")),
                      (i.type = "text/css"),
                      (i.id = "s" + c),
                      (p.fake ? p : d).appendChild(i),
                      p.appendChild(d),
                      i.styleSheet
                              ? (i.styleSheet.cssText = e)
                              : i.appendChild(n.createTextNode(e)),
                      (d.id = c),
              p.fake &&
              ((p.style.background = ""),
                      (p.style.overflow = "hidden"),
                      (u = w.style.overflow),
                      (w.style.overflow = "hidden"),
                      w.appendChild(p)),
                      (l = t(d, e)),
                      p.fake
                              ? (p.parentNode.removeChild(p),
                                      (w.style.overflow = u),
                                      w.offsetHeight)
                              : d.parentNode.removeChild(d),
                      !!l
      );
    }
    function f(e, n) {
      return !!~("" + e).indexOf(n);
    }
    function u(e) {
      return e
              .replace(/([a-z])-([a-z])/g, function(e, n, t) {
                return n + t.toUpperCase();
              })
              .replace(/^-/, "");
    }
    function c(e, n) {
      return function() {
        return e.apply(n, arguments);
      };
    }
    function d(e, n, t) {
      var o;
      for (var i in e)
        if (e[i] in n)
          return t === !1
                  ? e[i]
                  : ((o = n[e[i]]), r(o, "function") ? c(o, t || n) : o);
      return !1;
    }
    function p(e) {
      return e
              .replace(/([A-Z])/g, function(e, n) {
                return "-" + n.toLowerCase();
              })
              .replace(/^ms-/, "-ms-");
    }
    function m(n, t, r) {
      var o;
      if ("getComputedStyle" in e) {
        o = getComputedStyle.call(e, n, t);
        var i = e.console;
        if (null !== o) r && (o = o.getPropertyValue(r));
        else if (i) {
          var s = i.error ? "error" : "log";
          i[s].call(
                  i,
                  "getComputedStyle returning null, its possible modernizr test results are inaccurate"
          );
        }
      } else o = !t && n.currentStyle && n.currentStyle[r];
      return o;
    }
    function v(n, r) {
      var o = n.length;
      if ("CSS" in e && "supports" in e.CSS) {
        for (; o--; ) if (e.CSS.supports(p(n[o]), r)) return !0;
        return !1;
      }
      if ("CSSSupportsRule" in e) {
        for (var i = []; o--; ) i.push("(" + p(n[o]) + ":" + r + ")");
        return (
                (i = i.join(" or ")),
                        l(
                                "@supports (" + i + ") { #modernizr { position: absolute; } }",
                                function(e) {
                                  return "absolute" == m(e, null, "position");
                                }
                        )
        );
      }
      return t;
    }
    function y(e, n, o, i) {
      function a() {
        c && (delete j.style, delete j.modElem);
      }
      if (((i = r(i, "undefined") ? !1 : i), !r(o, "undefined"))) {
        var l = v(e, o);
        if (!r(l, "undefined")) return l;
      }
      for (
              var c, d, p, m, y, h = ["modernizr", "tspan", "samp"];
              !j.style && h.length;

      )
        (c = !0), (j.modElem = s(h.shift())), (j.style = j.modElem.style);
      for (p = e.length, d = 0; p > d; d++)
        if (
                ((m = e[d]),
                        (y = j.style[m]),
                f(m, "-") && (m = u(m)),
                j.style[m] !== t)
        ) {
          if (i || r(o, "undefined")) return a(), "pfx" == n ? m : !0;
          try {
            j.style[m] = o;
          } catch (g) {}
          if (j.style[m] != y) return a(), "pfx" == n ? m : !0;
        }
      return a(), !1;
    }
    function h(e, n, t, o, i) {
      var s = e.charAt(0).toUpperCase() + e.slice(1),
              a = (e + " " + E.join(s + " ") + s).split(" ");
      return r(n, "string") || r(n, "undefined")
              ? y(a, n, o, i)
              : ((a = (e + " " + O.join(s + " ") + s).split(" ")), d(a, n, t));
    }
    function g(e, n, r) {
      return h(e, t, t, n, r);
    }
    var C = [],
            x = [],
            T = {
              _version: "3.4.0",
              _config: {
                classPrefix: "",
                enableClasses: !0,
                enableJSClass: !0,
                usePrefixes: !0
              },
              _q: [],
              on: function(e, n) {
                var t = this;
                setTimeout(function() {
                  n(t[e]);
                }, 0);
              },
              addTest: function(e, n, t) {
                x.push({ name: e, fn: n, options: t });
              },
              addAsyncTest: function(e) {
                x.push({ name: null, fn: e });
              }
            },
            Modernizr = function() {};
    (Modernizr.prototype = T),
            (Modernizr = new Modernizr()),
            Modernizr.addTest("history", function() {
              var n = navigator.userAgent;
              return (-1 === n.indexOf("Android 2.") &&
                      -1 === n.indexOf("Android 4.0")) ||
              -1 === n.indexOf("Mobile Safari") ||
              -1 !== n.indexOf("Chrome") ||
              -1 !== n.indexOf("Windows Phone") ||
              "file:" === location.protocol
                      ? e.history && "pushState" in e.history
                      : !1;
            }),
            Modernizr.addTest("filereader", !!(e.File && e.FileList && e.FileReader));
    var w = n.documentElement,
            b = "svg" === w.nodeName.toLowerCase(),
            S = T._config.usePrefixes
                    ? " -webkit- -moz- -o- -ms- ".split(" ")
                    : ["", ""];
    (T._prefixes = S),
            Modernizr.addTest("video", function() {
              var e = s("video"),
                      n = !1;
              try {
                (n = !!e.canPlayType),
                n &&
                ((n = new Boolean(n)),
                        (n.ogg = e
                                .canPlayType('video/ogg; codecs="theora"')
                                .replace(/^no$/, "")),
                        (n.h264 = e
                                .canPlayType('video/mp4; codecs="avc1.42E01E"')
                                .replace(/^no$/, "")),
                        (n.webm = e
                                .canPlayType('video/webm; codecs="vp8, vorbis"')
                                .replace(/^no$/, "")),
                        (n.vp9 = e
                                .canPlayType('video/webm; codecs="vp9"')
                                .replace(/^no$/, "")),
                        (n.hls = e
                                .canPlayType('application/x-mpegURL; codecs="avc1.42E01E"')
                                .replace(/^no$/, "")));
              } catch (t) {}
              return n;
            }),
            Modernizr.addTest("opacity", function() {
              var e = s("a").style;
              return (e.cssText = S.join("opacity:.55;")), /^0.55$/.test(e.opacity);
            });
    var _ = (T.testStyles = l);
    Modernizr.addTest("touchevents", function() {
      var t;
      if (
              "ontouchstart" in e ||
              (e.DocumentTouch && n instanceof DocumentTouch)
      )
        t = !0;
      else {
        var r = [
          "@media (",
          S.join("touch-enabled),("),
          "heartz",
          ")",
          "{#modernizr{top:9px;position:absolute}}"
        ].join("");
        _(r, function(e) {
          t = 9 === e.offsetTop;
        });
      }
      return t;
    });
    var P = "Moz O ms Webkit",
            E = T._config.usePrefixes ? P.split(" ") : [];
    T._cssomPrefixes = E;
    var O = T._config.usePrefixes ? P.toLowerCase().split(" ") : [];
    T._domPrefixes = O;
    var z = { elem: s("modernizr") };
    Modernizr._q.push(function() {
      delete z.elem;
    });
    var j = { style: z.elem.style };
    Modernizr._q.unshift(function() {
      delete j.style;
    }),
            (T.testAllProps = h),
            (T.testAllProps = g),
            Modernizr.addTest("cssanimations", g("animationName", "a", !0)),
            Modernizr.addTest("appearance", g("appearance")),
            Modernizr.addTest("csstransforms", function() {
              return (
                      -1 === navigator.userAgent.indexOf("Android 2.") &&
                      g("transform", "scale(1)", !0)
              );
            }),
            Modernizr.addTest("csstransitions", g("transition", "all", !0));
    var L = function(n) {
      var r,
              o = S.length,
              i = e.CSSRule;
      if ("undefined" == typeof i) return t;
      if (!n) return !1;
      if (
              ((n = n.replace(/^@/, "")),
                      (r = n.replace(/-/g, "_").toUpperCase() + "_RULE"),
              r in i)
      )
        return "@" + n;
      for (var s = 0; o > s; s++) {
        var a = S[s],
                l = a.toUpperCase() + "_" + r;
        if (l in i) return "@-" + a.toLowerCase() + "-" + n;
      }
      return !1;
    };
    T.atRule = L;
    var A = (T.prefixed = function(e, n, t) {
              return 0 === e.indexOf("@")
                      ? L(e)
                      : (-1 != e.indexOf("-") && (e = u(e)), n ? h(e, n, t) : h(e, "pfx"));
            }),
            R = A("URL", e, !1);
    (R = R && e[R]),
            Modernizr.addTest(
                    "bloburls",
                    R && "revokeObjectURL" in R && "createObjectURL" in R
            ),
            o(),
            i(C),
            delete T.addTest,
            delete T.addAsyncTest;
    for (var N = 0; N < Modernizr._q.length; N++) Modernizr._q[N]();
    e.Modernizr = Modernizr;
  })(window, document);

  (function(window, document) {
    var $ = $ || jQuery;

    var navigationTop = null;

    function changeLanguage(language) {
      var separatedLocation = window.location.pathname.split("/");
      var location = "";

      for (
              var separatedLocationIndex = 2;
              separatedLocationIndex < separatedLocation.length;
              separatedLocationIndex++
      ) {
        location = location + "/" + separatedLocation[separatedLocationIndex];
      }

      window.location = "/" + language + location + window.location.search;
    }

    function hideOnClickOutside(selector, isVisible, onOutsideClick) {
      function outsideClickListener(event) {
        var $target = $(event.target);
        if (!$target.closest(selector).length && isVisible()) {
          onOutsideClick();
          removeClickListener();
        }
      }

      function removeClickListener() {
        document.removeEventListener("click", outsideClickListener);
        $(".ad-component_dropdown--trigger").off("click", outsideClickListener);
      }

      document.addEventListener("click", outsideClickListener);
      $(".ad-component_dropdown--trigger").on("click", outsideClickListener);
    }

    function toggleMenu(selector) {
      var optionList = $(selector + " .js-options");
      var downIcon = $(selector + " .js-icon-down");
      var upIcon = $(selector + " .js-icon-up");

      if (optionList.hasClass("open")) {
        optionList.removeClass("open");
        downIcon.addClass("open");
        upIcon.removeClass("open");
      } else {
        hideOnClickOutside(
                selector + " .js-options",
                function() {
                  return optionList.hasClass("open");
                },
                function() {
                  optionList.removeClass("open");
                  downIcon.addClass("open");
                  upIcon.removeClass("open");
                }
        );

        setTimeout(function() {
          optionList.addClass("open");
          downIcon.removeClass("open");
          upIcon.addClass("open");
        });
      }
    }

    function toggleLanguageChooser() {
      toggleMenu(".js-language");
    }

    function toggleProfileMenu() {
      toggleMenu(".js-profile");
    }

    function navToggle() {
      var dropdownContent = $(".js-navigation.navigation--tertiary");

      var dropdownContentActiveClass = "navigation--display";

      if (dropdownContent.hasClass(dropdownContentActiveClass)) {
        dropdownContent.removeClass(dropdownContentActiveClass);
      } else {
        hideOnClickOutside(
                ".js-navigation.navigation--tertiary",
                function() {
                  return dropdownContent.hasClass(dropdownContentActiveClass);
                },
                function() {
                  dropdownContent.removeClass(dropdownContentActiveClass);
                }
        );

        setTimeout(function() {
          dropdownContent.addClass(dropdownContentActiveClass);
        });
      }
    }

    function accordionToggle() {
      var head = $(".js-accordion-heading.navigation__accordion--heading");
      var content = $(".js-accordion-content.navigation__accordion-content");

      var headActiveClass =
              "js-accordion-heading-active accordion__heading--active";

      if (head.hasClass(headActiveClass)) {
        head.removeClass(headActiveClass);
        content.removeClass("open");
      } else {
        head.addClass(headActiveClass);
        content.addClass("open");
      }
    }

    function toggleSearchFieldVisibility() {
      var container = $("#header-search-container.search-container");
      var input = $("#header-search-container .search-input");

      if (container.hasClass("open")) {
        container.removeClass("open");
        input.val(input.attr("data-default-value"));
      } else {
        container.addClass("open");
        container.find(".search-input").focus();
      }
    }

    function submitSearch() {
      var container = $("#header-search-container.search-container");
      var input = $("#header-search-container .search-input");

      var baseUrl = container.attr("data-base-url");
      var value = input.val();

      if (value) {
        window.location.href = baseUrl + "?q=" + value;
      }

      return false;
    }

    function onSearchIconClick() {
      var container = $("#header-search-container.search-container");

      if (container.hasClass("open")) {
        submitSearch();
      } else {
        toggleSearchFieldVisibility();
      }
    }

    function getSearchQuery() {
      return getQueryVariable("q");
    }

    function getQueryVariable(variable) {
      var query = window.location.search.substring(1);
      var vars = query.split("&");

      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (decodeURIComponent(pair[0]) === variable) {
          return decodeURIComponent(pair[1]);
        }
      }
    }

    function handleScroll() {
      var navigation = $(".js-navigation.navigation--primary");
      var navigationStatic = $(".js-navigation-static");

      if (!navigation.length) {
        return;
      }

      var scrollTop = $(window).scrollTop();
      navigationTop =
              navigationTop === null ? navigation.offset().top || 0 : navigationTop;

      if (
              scrollTop <= navigationTop &&
              navigation.hasClass("navigation--fixed")
      ) {
        navigationStatic.css({ height: 0 });
        navigation.removeClass("navigation--fixed");
      } else if (
              scrollTop > navigationTop &&
              !navigation.hasClass("navigation--fixed")
      ) {
        navigationStatic.css({ height: navigation.outerHeight() });
        navigation.addClass("navigation--fixed");
      }
    }

    handleScroll();

    $(document).ready(function() {
      handleScroll();
      window.addEventListener("scroll", handleScroll);
    });

    $(window).on("load", function() {
      var container = $("#header-search-container.search-container");
      var input = $("#header-search-container .search-input");
      var searchQuery = getSearchQuery();

      if (searchQuery) {
        container.addClass("open");
        input.attr("value", searchQuery);
        input.attr("data-default-value", searchQuery);
      }
    });

    window.VodafoneHeader = {
      changeLanguage: changeLanguage,
      toggleLanguageChooser: toggleLanguageChooser,
      toggleProfileMenu: toggleProfileMenu,
      navToggle: navToggle,
      toggleSearchFieldVisibility: toggleSearchFieldVisibility,
      submitSearch: submitSearch,
      onSearchIconClick: onSearchIconClick,
      accordionToggle: accordionToggle,
      getSearchQuery: getSearchQuery
    };
  })(window, document);
</script>