{% extends "/layout/base.html" %}
{% from "/macros/sliders/slider.html" import slider %}
{% from "/macros/sliders/bundle.html" import bundleSlider %}
{% from "/macros/sliders/hero.html" import hero %}
{% from "/macros/navigator.html" import navigator %}
{% from "/macros/home-faq.html" import homeFaq %}
{% from "/macros/sliders/script.html" import sliderScript %}

{% block data %}
<data type="navigator" />
<data type="faq" />
<data name="core" type="list" attributes="4320" />
<data name="mobile" type="list" attributes="4334" />
<data name="hero" type="list" products="222633,216359,195808,167032,140680" />
{% endblock %}

{% block content %}
<section class="main-content">
    <div style="background-color: #4b4d4e">
        <div class="container align-items-lg-end text-right">

            <div class="dropdown">
                <a class="btn dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size: 75%;color:#ffffff;">
                    <img src="../../assets/images/internet-white.png" style="width:14px" /> English (United Kingdom)
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#">English (United Kingdom)</a>
                    <a class="dropdown-item" href="#">German</a>
                    <a class="dropdown-item" href="#">Italian</a>
                </div>
            </div>
        </div>
    </div>

    <div class="navigation" id="navigation">
        <div class="container">
            <nav class="navbar navbar-expand-md">
                <a class="navbar-brand" href="#"><img src="../../assets/images/vodafone_logo.png" style="width:50px; height: auto;"/></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"><img src="../../assets/images/menu.png" style="width:30px;"/></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">My apps</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link" href="#" id="navbarDropdown" role="button" aria-expanded="false">
                                Marketplace
                            </a>
                            <!--<div class="dropdown-menu" aria-labelledby="navbarDropdown">-->
                            <!--<a class="dropdown-item" href="#">Featured Applications</a>-->
                            <!--<a class="dropdown-item" href="#">All applications</a>-->
                            <!--<a class="dropdown-item" href="#">Collaboration</a>-->
                            <!--</div>-->
                        </li>
                    </ul>
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="../../assets/images/settings.png" style="width:30px;"/></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#"><img src="../../assets/images/my-vodafone-app.png" style="width:30px;"/></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-toggle="modal" data-target="#search"><img src="../../assets/images/search.png" style="width:30px;"/></a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="search" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Search</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <h1>TEST PAGE</h1>

    <div id="promo" class="carousel slide" data-ride="carousel" style="background-color: #efefef;">
        <ol class="carousel-indicators">
            <li data-target="#promo" data-slide-to="0" class="active"></li>
            <li data-target="#promo" data-slide-to="1"></li>
            <li data-target="#promo" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            {% for app in productLists.staffpicks.items %}
            {% if loop.index0 < 4 %}
            <div class="carousel-item">
                <div class="bg-image" style="background-image: url('{{ app.overviewImageUrl }}')"></div>
                <div class="overlay">
                    <div class="container">
                        <div class="texts">
                            <h1 class="title">
                                {{ app.name | truncate(50) }}
                            </h1>
                            <div class="description">
                                {{ app.description | truncate(130) }}
                            </div>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#promo" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#promo" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            {% endif %}
            {% endfor %}
        </div>


        <!--<img class="d-block" src="../../assets/images/gsuite_bg.png" alt="GSuite" style="height: 300px;width:auto;margin: auto">-->

        <!--<div id="promo" class="carousel slide" data-ride="carousel" style="background-color: #efefef;">-->
        <!--<ol class="carousel-indicators">-->
        <!--<li data-target="#promo" data-slide-to="0" class="active"></li>-->
        <!--<li data-target="#promo" data-slide-to="1"></li>-->
        <!--<li data-target="#promo" data-slide-to="2"></li>-->
        <!--</ol>-->
        <!--<div class="carousel-inner">-->
        <!--<div class="bg-image" style="background-image: url('../../assets/images/gsuite_bg2222.png')"></div>-->
        <!--<div class="overlay">-->
        <!--<div class="container">-->
        <!--<div class="texts">-->
        <!--<h1 class="title">-->
        <!--Lorem ipsum-->
        <!--</h1>-->
        <!--<div class="description">-->
        <!--Lorem ipsum dolor sit amet conseqular.-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--<a class="carousel-control-prev" href="#promo" role="button" data-slide="prev">-->
        <!--<span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
        <!--<span class="sr-only">Previous</span>-->
        <!--</a>-->
        <!--<a class="carousel-control-next" href="#promo" role="button" data-slide="next">-->
        <!--<span class="carousel-control-next-icon" aria-hidden="true"></span>-->
        <!--<span class="sr-only">Next</span>-->
        <!--</a>-->
        <!--</div>-->
        <!--</div>-->



        <div class="container py-5">
            <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-3">
                    <div class="d-block d-md-none">
                        <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                            Categories
                        </button>
                        <div class="list-group collapse" id="collapseExample">
                            {% for menuItem in nav.primary.categories %}
                            {% if loop.index0 < 9 %}
                            <a href="#" class="list-group-item list-group-item-action">
                            <span class=`app-description app-{{ menuItem.id }}`>
                                {{ menuItem.name }}
                            </span>
                                <!--<span class="badge badge-primary badge-pill">14</span>-->
                            </a>
                            {% endif %}
                            {% endfor %}
                        </div>
                    </div>

                    <div class="list-navigation d-none d-md-block">
                        <h3 class="list-navigation-title">Categories</h3>
                        {% for menuItem in nav.primary.categories %}
                        {% if loop.index0 < 9 %}
                        <a href="#" class="list-navigation-item">
                        <span class=`app-description app-{{ menuItem.id }}`>
                            {{ menuItem.name }}
                        </span>
                            <!--<span class="badge badge-primary badge-pill">14</span>-->
                        </a>
                        {% endif %}
                        {% endfor %}
                    </div>

                </div>
                <div class="col-sm-12 col-md-8 col-lg-9">

                    <h2 class="text-center my-4">Featured products</h2>
                    <div class="row">
                        {% for app in productLists.featuredapps.items %}
                        {% if loop.index0 < 9 %}
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12">
                            <div class="card mb-4">
                                <div class="image d-flex align-items-center justify-content-center">
                                    <img class="img-fluid" src="{{ app.iconUrl }}" alt="Card image cap">
                                </div>
                                <div class="card-body">
                                    <p class="card-text card-{{ app.id }}">
                                        {{ app.description | truncate(130) }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>

                    <h2 class="text-center my-4">Fancy apps</h2>
                    <p class="text-center">Some quick example text to build on the card title and make up the bulk of the card's content</p>
                    <div class="row">
                        {% for app in productLists.popularapps.items %}
                        {% if loop.index0 < 9 %}
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12">
                            <div class="card mb-4">
                                <div class="image d-flex align-items-center justify-content-center">
                                    <img class="img-fluid" src="{{ app.iconUrl }}" alt="Card image cap">
                                </div>
                                <div class="card-body">
                                    <p class="card-text card-{{ app.id }}">
                                        {{ app.description | truncate(130) }}
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>




                </div>
            </div>
        </div>

        <div style="background-color: #333333;">
            <div class="container">
                <div class="row py-5">
                    <div class="col">

                        <ul class="nav pb-4">
                            <li class="nav-item"><a class="nav-link" href="" style="color:#ffffff;">Privacy Policy</a></li>
                            <li class="nav-item"><a class="nav-link" href=""  style="color:#ffffff;">Terms and Conditiuons</a></li>
                            <li class="nav-item"><a class="nav-link" href=""  style="color:#ffffff;">Contact</a></li>
                        </ul>

                        <p  style="color:#ffffff;">Powered by AppDirect</p>
                        <p  style="color:#ffffff;">©<span id="year"></span> Vodafone Group. Vodafone Group Plc. Registered Office: Vodafone House, The Connection, Newbury, Berkshire RG14 2FN. Registered in England No 1833679.</p>
                    </div>
                </div>
            </div>
        </div>
</section>


{% block scripts %}
<script>
    var appDescription = document.getElementsByClassName('card-text');
    console.log(appDescription);
    $('.carousel-inner .carousel-item:first').addClass('active');



</script>
{% endblock %}

{{ sliderScript() }}
{% endblock %}
